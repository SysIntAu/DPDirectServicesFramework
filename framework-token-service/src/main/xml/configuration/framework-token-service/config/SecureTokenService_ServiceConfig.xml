<?xml version="1.0" encoding="UTF-8"?>
<ServiceConfig xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:noNamespaceSchemaLocation="ServiceConfig.xsd"  version="1.0">
	<OperationConfig id="SAML_SecureTokenService">
		<Description>Configuration for the "SAML_SecureTokenService" service</Description>
		<InputMatchCriteria>
			<Action>http://docs.oasis-open.org/ws-sx/ws-trust/200512/RST/Issue</Action>
			<InboundURI>*/STS*</InboundURI>
			<HTTPSPort>4443</HTTPSPort>
		</InputMatchCriteria>
		<RequestPolicyConfig>
			<BackendRouting provider="STS">
				<HTTPEndpoint>
					<Address>${echoHttpEndpoint}</Address>
				</HTTPEndpoint>
			</BackendRouting>
		</RequestPolicyConfig>
		<ResponsePolicyConfig/>
		<ErrorPolicyConfig>
			<Transform>
				<Stylesheet>local:///SecureTokenService/SAML/generateFault.xsl</Stylesheet>
			</Transform>
		</ErrorPolicyConfig>
	</OperationConfig>
	<OperationConfig id="SAML_ValidateSecurityToken">
		<Description>Configuration for the "SAML_SecureTokenService" service</Description>
		<InputMatchCriteria>
			<Action>http://docs.oasis-open.org/ws-sx/ws-trust/200512/RST/Validate</Action>
			<InboundURI>*/STS*</InboundURI>
			<HTTPSPort>4443</HTTPSPort>
		</InputMatchCriteria>
		<RequestPolicyConfig>
			<BackendRouting provider="STS">
				<HTTPEndpoint>
					<Address>${echoHttpEndpoint}</Address>
				</HTTPEndpoint>
			</BackendRouting>
		</RequestPolicyConfig>
		<ResponsePolicyConfig/>
		<ErrorPolicyConfig>
			<Transform>
				<Stylesheet>local:///SecureTokenService/SAML/generateFault.xsl</Stylesheet>
			</Transform>
		</ErrorPolicyConfig>
	</OperationConfig>
	<OperationConfig id="JWT_SecureTokenService">
		<Description>Configuration for the "JWT_SecureTokenService" service</Description>
		<InputMatchCriteria>
			<InboundURI>*/jwtTokenService/issue</InboundURI>
			<HTTPSPort>4444</HTTPSPort>
		</InputMatchCriteria>
		<RequestPolicyConfig>
			<BackendRouting provider="STS">
				<HTTPEndpoint>
					<Address>${echoHttpEndpoint}</Address>
				</HTTPEndpoint>
			</BackendRouting>
		</RequestPolicyConfig>
		<ResponsePolicyConfig/>
		<ErrorPolicyConfig>
			<Transform>
				<Stylesheet>local:///SecureTokenService/JWT/generateError-jwt.xsl</Stylesheet>
			</Transform>
		</ErrorPolicyConfig>
	</OperationConfig>
	<OperationConfig id="JWT_ValidateSecurityToken">
		<Description>Configuration for the "JWT_SecureTokenService" service</Description>
		<InputMatchCriteria>
			<InboundURI>*/jwtTokenService/validate</InboundURI>
			<HTTPSPort>4444</HTTPSPort>
		</InputMatchCriteria>
		<RequestPolicyConfig>
			<BackendRouting provider="STS">
				<HTTPEndpoint>
					<Address>${echoHttpEndpoint}</Address>
				</HTTPEndpoint>
			</BackendRouting>
		</RequestPolicyConfig>
		<ResponsePolicyConfig/>
		<ErrorPolicyConfig>
			<Transform>
				<Stylesheet>local:///SecureTokenService/JWT/generateError-jwt.xsl</Stylesheet>
			</Transform>
		</ErrorPolicyConfig>
	</OperationConfig>
</ServiceConfig>