<?xml version='1.0' encoding='UTF-8'?>
<assembly>
    <id>deploy</id>
    <formats>
        <format>zip</format>
    </formats>
    <includeBaseDirectory>false</includeBaseDirectory>
	<dependencySets>
        <dependencySet>
            <includes>
            	<include>*:jar</include>
            </includes> 
			<excludes>
            	<exclude>ant:*:jar</exclude>
				<exclude>org.apache.ant:*:*:*</exclude>
				<exclude>commons-logging:*:jar</exclude>
				<exclude>dom4j:*:jar</exclude>
				<exclude>org.jdom:*:*:*</exclude>
				<exclude>*:Saxon-HE:*:*</exclude>
				<exclude>xalan:*:jar</exclude>
				<exclude>xml-resolver:*:jar</exclude>
				<exclude>xom:*:jar</exclude>
				<exclude>*:dpAntTasks:jar</exclude>
            </excludes> 
			<useProjectArtifact>false</useProjectArtifact>
			<outputDirectory>lib</outputDirectory>
			<unpack>false</unpack>
        </dependencySet>
		<dependencySet>
            <includes>
            	<include>*:jar</include>
            </includes> 
			<outputFileNameMapping>${artifact.artifactId}.${artifact.extension}</outputFileNameMapping>
			 <excludes>
            	<exclude>ant:*:jar</exclude>
				<exclude>org.apache.ant:*:*:*</exclude>
				<exclude>commons-logging:*:jar</exclude>
				<exclude>dom4j:*:jar</exclude>
				<exclude>org.jdom:*:*:*</exclude>
				<exclude>*:Saxon-HE:*:*</exclude>
				<exclude>xalan:*:jar</exclude>
				<exclude>xml-resolver:*:jar</exclude>
				<exclude>xom:*:jar</exclude>
				<exclude>*:ant-contrib:jar</exclude>
				<exclude>*:log4j:jar</exclude>
				<exclude>*:wsdl4j:jar</exclude>
				<exclude>*:xercesImpl:jar</exclude>
				<exclude>*:xml-apis:jar</exclude>
				<exclude>*:xmlsec:jar</exclude>
            </excludes> 
			<useProjectArtifact>false</useProjectArtifact>
			<outputDirectory>lib</outputDirectory>
			<unpack>false</unpack>
        </dependencySet>
    </dependencySets>
	<moduleSets>
		<moduleSet>
			 <useAllReactorProjects>true</useAllReactorProjects>
			<includes>
				<include>*:esb_framework:jar:${project.version}</include>
				<!--include>*:dpAntTasks:*:${project.version}</include-->
				<!--include>*:dpMojos:*:${project.version}</include-->				
			</includes>
			<binaries>
				<unpack>true</unpack>
				<includeDependencies>false</includeDependencies>
			  </binaries>
		</moduleSet>
	</moduleSets>
</assembly>